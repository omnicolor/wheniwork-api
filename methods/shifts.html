<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title>API Documentation</title>

    <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,400italic" rel="stylesheet" />
    <link href="../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" media="print" />
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="../javascripts/all.js"></script>

    <script>
      $(function() {
        var toc = $("#toc").tocify({
          selectors: "h1,h2",
          extendPage: false,
          theme: "none",
          smoothScroll: false,
          showEffectSpeed: 0,
          hideEffectSpeed: 180,
          ignoreSelector: ".toc-ignore",
          hashGenerator: 'pretty',
          highlightOffset: 60,
          scrollTo: -2,
          scrollHistory: true,
          hashGenerator: function(text, element) {
            return element[0].getAttribute('id');
          }
        }).data("toc-tocify");
        // Hack to make already open sections to start opened,
        // instead of displaying an ugly animation
        setTimeout(function() {
          toc.setOption("showEffectSpeed", 180);
        },50);
        setupLanguages([
        ]);
      });
    </script>
  </head>

  <body class="methods methods_shifts">
    <div class="tocify-wrapper">
      <img src="../images/logo.svg" />
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="content">
        <blockquote>
<p>Example Object</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
  </span><span class="nt">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1045</span><span class="p">,</span><span class="w">
  </span><span class="nt">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">19483</span><span class="p">,</span><span class="w">
  </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4351</span><span class="p">,</span><span class="w">
  </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri, 07 Mar 2014 08:30:00 -0600"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri, 07 Mar 2014 14:30:00 -0600"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"break_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc0000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We need more cowbell."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"published_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"notified_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 21:12:14 -0600"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"acknowledged_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_open"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Shifts provide the basis for scheduling. Many other objects, including Locations, Positions, Sites, and Users, all link through Shifts.</p>

<p>For more information about how to use Shifts, visit the <a href="https://help.wheniwork.com/hc/en-us/sections/200287656-Using-the-Scheduler">Help Center</a>.</p>

<h3 id="shift-object">Shift Object</h3>
<table><thead><tr><th>Parameter</th>
<th>Description</th>
</tr></thead><tbody><tr><td>id</td>
<td><strong>integer</strong><br />Unique identifier for the shift.</td>
</tr><tr><td>account_id</td>
<td><strong>integer</strong><br />Link identifier for the Account to which this shift is attached.</td>
</tr><tr><td>user_id</td>
<td><strong>integer</strong><br />Link identifier for the User attached to this shift. <code>0</code> means the shift is an OpenShift.</td>
</tr><tr><td>location_id</td>
<td><strong>integer</strong><br />Link identifier for the Location to which this shift is attached.</td>
</tr><tr><td>position_id</td>
<td><strong>integer</strong><br />Link identifier for the Position assigned to this shift.</td>
</tr><tr><td>site_id</td>
<td><strong>integer</strong><br />Link identifier for the Site assigned to this shift.</td>
</tr><tr><td>start_time</td>
<td><strong>datetime</strong><br />Start time of the shift.</td>
</tr><tr><td>end_time</td>
<td><strong>datetime</strong><br />End time of the shift.</td>
</tr><tr><td>break_time</td>
<td><strong>float</strong><br />Hours of unpaid break during the shift.</td>
</tr><tr><td>color</td>
<td><strong>hex</strong><br />Hex color used to identify the shift in the UI.</td>
</tr><tr><td>notes</td>
<td><strong>string</strong><br />Notes about the shift. The maximum length is 350 characters.</td>
</tr><tr><td>instances</td>
<td><strong>integer</strong><br />For OpenShifts, how many instances of that shift are available to assign to employees. In the UI, this is indicated by the red badge on the OpenShift. For normal shifts, this will be <code>1</code>.</td>
</tr><tr><td>published</td>
<td><strong>boolean</strong><br />Whether the shift has been published. Published shifts are visible to all employees.</td>
</tr><tr><td>published_date</td>
<td><strong>datetime</strong><br />Date the shift was most recently published. (Will be <code>null</code> if the shift is not published.)</td>
</tr><tr><td>notified_at</td>
<td><strong>datetime</strong><br />Date when notifications about the shift were most recently sent.</td>
</tr><tr><td>created_at</td>
<td><strong>datetime</strong><br />Date the shift was created.</td>
</tr><tr><td>updated_at</td>
<td><strong>datetime</strong><br />Date the shift was most recently updated.</td>
</tr><tr><td>acknowledged</td>
<td><strong>integer</strong><br />Whether the shift has been acknowledged by the employee. (<code>0</code> for false, <code>1</code> for true.)</td>
</tr><tr><td>acknowledged_at</td>
<td><strong>datetime</strong><br />The time, if any, when the shift was acknowledged by the employee.</td>
</tr><tr><td>creator_id</td>
<td><strong>integer</strong><br />The id of the user who created the shift.</td>
</tr><tr><td>is_open</td>
<td><strong>boolean</strong><br />Whether the shift is an OpenShift.</td>
</tr></tbody></table>
<h2 id="listing-shifts">Listing Shifts</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl https://api.wheniwork.com/2/shifts/?location_id<span class="o">=</span>1&amp;start<span class="o">=</span>2014-03-05 00:00:00&amp;end<span class="o">=</span>2014-03-08 23:59:59 <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">"shifts"</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
                                <span class="s2">"location_id"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                                <span class="s2">"start"</span> <span class="o">=&gt;</span> <span class="s2">"2014-03-05 00:00:00"</span><span class="p">,</span>
                                <span class="s2">"end"</span> <span class="o">=&gt;</span> <span class="s2">"2014-03-08 23:59:59"</span>
                              <span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre id="code-collapse-84" class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wed, 05 Mar 2014 00:00:00 -0600"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sat, 08 Mar 2014 23:59:59 -0600"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"shifts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"account_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
      </span><span class="nt">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1045</span><span class="p">,</span><span class="w">
      </span><span class="nt">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">19483</span><span class="p">,</span><span class="w">
      </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4351</span><span class="p">,</span><span class="w">
</span></span>      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri, 07 Mar 2014 08:30:00 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri, 07 Mar 2014 14:30:00 -0600"</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"break_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc0000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We need more cowbell."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"published_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notified_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 21:12:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"acknowledged_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_open"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span></span>    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27384</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"account_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
      </span><span class="nt">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1045</span><span class="p">,</span><span class="w">
      </span><span class="nt">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">19483</span><span class="p">,</span><span class="w">
      </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4351</span><span class="p">,</span><span class="w">
</span></span>      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sat, 08 Mar 2014 09:00:00 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sat, 08 Mar 2014 17:00:00 -0600"</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"break_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc0000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We need more cowbell."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"published_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notified_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 21:12:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"acknowledged_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_open"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span></span>    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code><a class="expand-link" onclick="toggleCodeSection('#code-collapse-84')">Show hidden fields</a><a class="collapse-link" onclick="toggleCodeSection('#code-collapse-84')">Hide extra fields</a></pre>
<p>This method allows you to search for shifts. See the parameters below for all the options.</p>

<aside class="notice"><p><strong>The maximum range between <code>start</code> and <code>end</code> is 90 days.</strong> Any range greater than this will be set to the start time plus 90 days.</p>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code>GET https://api.wheniwork.com/2/shifts</code></p>

<h3 id="parameters">Parameters</h3>
<table><thead><tr><th>Key</th>
<th>Description</th>
</tr></thead><tbody><tr><td>start</td>
<td><strong>datetime</strong><br />Start time for the search window. The default is the current date and time.</td>
</tr><tr><td>end</td>
<td><strong>datetime</strong><br />End time for the search window. The default is exactly three days from the start time.</td>
</tr><tr><td>user_id</td>
<td><strong>integer, string array</strong><br />The ID of the user to get shifts for. For multiple users, enter a list of user IDs separated by commas (e.g. <code>1,5,3</code>).</td>
</tr><tr><td>location_id</td>
<td><strong>integer, string array</strong><br />The ID of the location to get shifts for. For multiple locations, enter a list of location IDs separated by commas.</td>
</tr><tr><td>include_open</td>
<td><strong>boolean</strong><br />Whether to include OpenShifts in the results.</td>
</tr><tr><td>include_allopen</td>
<td><strong>boolean</strong><br />Whether to include OpenShifts in the results, including shifts that might be conflicts.</td>
</tr><tr><td>include_onlyopen</td>
<td><strong>boolean</strong><br />Whether only OpenShifts should be included in the results.</td>
</tr><tr><td>unpublished</td>
<td><strong>boolean</strong><br />Whether unpublished shifts should be included in the results.</td>
</tr><tr><td>deleted</td>
<td><strong>boolean</strong><br />Whether to include a list of deleted shift IDs in the results.</td>
</tr></tbody></table>
<aside class="notice"><p>OpenShifts will be included in the results as long as either <code>include_allopen</code> or <code>include_onlyopen</code> is <code>true</code>.</p>
</aside>

<h2 id="get-existing-shift">Get Existing Shift</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl https://api.wheniwork.com/2/shifts/1337 <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">"shifts/1337"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre id="code-collapse-85" class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"shift"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1337</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">    </span><span class="nt">"account_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1045</span><span class="p">,</span><span class="w">
    </span><span class="nt">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">19483</span><span class="p">,</span><span class="w">
    </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4351</span><span class="p">,</span><span class="w">
</span></span>    </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri, 07 Mar 2014 08:30:00 -0600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri, 07 Mar 2014 14:30:00 -0600"</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">    </span><span class="nt">"break_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc0000"</span><span class="p">,</span><span class="w">
</span></span>    </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Come in early today."</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">    </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"published_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"notified_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 21:12:14 -0600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acknowledged_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_open"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span></span>  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code><a class="expand-link" onclick="toggleCodeSection('#code-collapse-85')">Show hidden fields</a><a class="collapse-link" onclick="toggleCodeSection('#code-collapse-85')">Hide extra fields</a></pre>
<p>Gets the details of an existing shift.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code>GET https://api.wheniwork.com/2/shifts/{id}</code></p>

<h3 id="parameters">Parameters</h3>
<table><thead><tr><th>Key</th>
<th>Description</th>
</tr></thead><tbody><tr><td>id</td>
<td><strong>integer</strong><br />The ID of the shift requested.</td>
</tr></tbody></table>
<h2 id="create-update-shift">Create/Update Shift</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># Create a shift</span>
curl -X POST https://api.wheniwork.com/2/shifts/ <span class="se">\</span>
 --data <span class="s1">'{"notes": "Come in early today."}'</span> <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>

<span class="c"># Update a shift</span>
curl -X PUT https://api.wheniwork.com/2/shifts/10000 <span class="se">\</span>
 --data <span class="s1">'{"notes": "Come in early today."}'</span> <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>

<span class="c1">// Create a shift
</span><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s2">"shifts"</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="o">...</span><span class="p">));</span>

<span class="c1">// Update a shift
</span><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="s2">"shifts/10000"</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="o">...</span><span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre id="code-collapse-86" class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"shift"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">    </span><span class="nt">"account_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1045</span><span class="p">,</span><span class="w">
    </span><span class="nt">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">19483</span><span class="p">,</span><span class="w">
    </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4351</span><span class="p">,</span><span class="w">
</span></span>    </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri, 07 Mar 2014 08:30:00 -0600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri, 07 Mar 2014 14:30:00 -0600"</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">    </span><span class="nt">"break_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc0000"</span><span class="p">,</span><span class="w">
</span></span>    </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Come in early today."</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">    </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"published_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"notified_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 21:12:14 -0600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acknowledged_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_open"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span></span>  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code><a class="expand-link" onclick="toggleCodeSection('#code-collapse-86')">Show hidden fields</a><a class="collapse-link" onclick="toggleCodeSection('#code-collapse-86')">Hide extra fields</a></pre>
<p>Creates a new shift or updates an existing one.</p>

<h3 id="create-http-request">Create HTTP Request</h3>

<p><code>POST https://api.wheniwork.com/2/shifts/</code></p>

<h3 id="update-http-requests">Update HTTP Requests</h3>

<p><code>PUT https://api.wheniwork.com/2/shifts/{id}</code></p>

<h3 id="post-put-body">Post/Put Body</h3>

<p>The <code>POST</code> or <code>PUT</code> body can include fields from the <a href="#shifts">Shift Object</a>.</p>

<h2 id="acknowledge-shifts">Acknowledge Shifts</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.wheniwork.com/2/shifts/acknowledge/ <span class="se">\</span>
 --data <span class="s1">'{"ids":[34542,45434], "before":"Sun, 6 Dec 2015 00:00:00 -0600"}'</span> <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s2">"shifts/acknowledge/"</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"ids"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="mi">34542</span><span class="p">,</span>
    <span class="mi">45434</span>
  <span class="p">),</span>
  <span class="s2">"before"</span> <span class="o">=&gt;</span> <span class="s2">"Sun, 6 Dec 2015 00:00:00 -0600"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This method allows you to acknowledge a group of shifts.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code>POST https://api.wheniwork.com/2/shifts/acknowledge/</code></p>

<h3 id="parameters">Parameters</h3>
<table><thead><tr><th>Key</th>
<th>Description</th>
</tr></thead><tbody><tr><td>ids</td>
<td><strong>integer array</strong><br />The IDs of the shifts to acknowledge. This parameter must be in the POST body.</td>
</tr><tr><td>before</td>
<td><strong>string</strong><br />The timestamp that represents when the shift data was last fetched from the server. This is optional, and is useful to protect against inadvertently acknowledging shifts that were updated since data was fetched.</td>
</tr></tbody></table>
<h2 id="get-shift-history">Get Shift History</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl https://api.wheniwork.com/2/shifts/1337/history <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">"shifts/1337/history"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre id="code-collapse-87" class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"shift"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1337</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">    </span><span class="nt">"account_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1045</span><span class="p">,</span><span class="w">
    </span><span class="nt">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">19483</span><span class="p">,</span><span class="w">
    </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4351</span><span class="p">,</span><span class="w">
</span></span>    </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri, 07 Mar 2014 08:30:00 -0600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri, 07 Mar 2014 14:30:00 -0600"</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">    </span><span class="nt">"break_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc0000"</span><span class="p">,</span><span class="w">
</span></span>    </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Come in early today."</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">    </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"published_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"notified_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 21:12:14 -0600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acknowledged_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_open"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span></span>  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"history"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span></span>    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"time_changed"</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span></span>    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"time_changed"</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span></span>    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code><a class="expand-link" onclick="toggleCodeSection('#code-collapse-87')">Show hidden fields</a><a class="collapse-link" onclick="toggleCodeSection('#code-collapse-87')">Hide extra fields</a></pre>
<p>Gets the history of an existing shift. Shift history events are created when one
or more of the following elements are changed:</p>

<ul>
<li>start_time</li>
<li>end_time</li>
<li>user_id</li>
<li>position_id</li>
<li>location_id</li>
<li>site_id</li>
<li>published</li>
<li>break_time</li>
<li>acknowledged_at</li>
</ul>

<p>History events contain <code>actor</code> and <code>at</code> fields, and can also contain one or more
of the following optional fields depending on event type:</p>

<ul>
<li>start</li>
<li>end</li>
<li>user</li>
<li>break</li>
</ul>

<p>There is one special event called &quot;current&quot; that includes the current state of
the shift.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code>GET https://api.wheniwork.com/2/shifts/{id}/history</code></p>

<h3 id="parameters">Parameters</h3>
<table><thead><tr><th>Key</th>
<th>Description</th>
</tr></thead><tbody><tr><td>id</td>
<td><strong>integer</strong><br />The ID of the shift for which to fetch history.</td>
</tr></tbody></table>
<h2 id="publish-unpublish-shifts">Publish/Unpublish Shifts</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.wheniwork.com/2/shifts/publish/ <span class="se">\</span>
 --data <span class="s1">'{"ids":[1534,3543,65554,33444]}'</span> <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s2">"shifts/publish/"</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"ids"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="mi">1534</span><span class="p">,</span>
    <span class="mi">3543</span><span class="p">,</span>
    <span class="mi">65554</span><span class="p">,</span>
    <span class="mi">33444</span>
  <span class="p">)</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>These methods allow you to publish or unpublish a group of shifts.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code>POST https://api.wheniwork.com/2/shifts/publish/</code></p>

<h3 id="http-request">HTTP Request</h3>

<p><code>POST https://api.wheniwork.com/2/shifts/unpublish/</code></p>

<h3 id="parameters">Parameters</h3>
<table><thead><tr><th>Key</th>
<th>Description</th>
</tr></thead><tbody><tr><td>ids</td>
<td><strong>integer array</strong><br />The IDs of the shifts to publish or unpublish. This parameter must be in the POST body.</td>
</tr></tbody></table>
<h2 id="notify-shifts">Notify Shifts</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.wheniwork.com/2/shifts/notify/ <span class="se">\</span>
 --data <span class="s1">'{"start":"2014-05-16 00:00:00", "end":"2014-05-19 23:59:59"}'</span> <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s2">"shifts/notify/"</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"start"</span> <span class="o">=&gt;</span> <span class="s2">"2014-05-16 00:00:00"</span><span class="p">,</span>
  <span class="s2">"end"</span> <span class="o">=&gt;</span> <span class="s2">"2014-05-19 23:59:59"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sms"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This method allows you to notify users about new or updated shifts within a specific window.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code>POST https://api.wheniwork.com/2/shifts/notify/</code></p>

<h3 id="parameters">Parameters</h3>
<table><thead><tr><th>Key</th>
<th>Description</th>
</tr></thead><tbody><tr><td>start</td>
<td><strong>datetime</strong><br />Start time for the notification window.</td>
</tr><tr><td>end</td>
<td><strong>datetime</strong><br />End time for the notification window.</td>
</tr><tr><td>user_id</td>
<td><strong>integer, integer array</strong><br />The ID of the user to notify. For multiple users, enter an array of user IDs (e.g. <code>[1,5,3]</code>).</td>
</tr><tr><td>location_id</td>
<td><strong>integer, integer array</strong><br />The ID of the location to send notifications for. For multiple locations, enter an array of location IDs.</td>
</tr><tr><td>site_id</td>
<td><strong>integer, integer array</strong><br />The ID of the site to send notifications for. For multiple sites, enter an array of site IDs.</td>
</tr><tr><td>position_id</td>
<td><strong>integer, integer array</strong><br />The ID of the position to send notifications for. For multiple position, enter an array of position IDs.</td>
</tr></tbody></table>
<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.wheniwork.com/2/shifts/notify/47433 <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s2">"shifts/notify/47433"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sms"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>You can also send a notification about just one shift using the following:</p>

<h3 id="http-request">HTTP Request</h3>

<p><code>POST https://api.wheniwork.com/2/shifts/notify/{id}</code></p>

<h3 id="parameters">Parameters</h3>
<table><thead><tr><th>Key</th>
<th>Description</th>
</tr></thead><tbody><tr><td>id</td>
<td><strong>integer</strong><br />ID of the shift you want to send notifications about.</td>
</tr></tbody></table>
<h2 id="copy-shifts">Copy Shifts</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.wheniwork.com/2/shifts/copy/ <span class="se">\</span>
 --data <span class="s1">'{
     "target_start":"Sun, 27 Dec 2015 00:00:00 -0600",
     "target_end":"Sat, 02 Jan 2016 23:59:59 -0600",
     "location_id":4267,
     "mode":"previous_week",
     "conflicts":"avoid"
 }'</span> <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s2">"shifts/copy/"</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"target_start"</span> <span class="o">=&gt;</span> <span class="s2">"Sun, 27 Dec 2015 00:00:00 -0600"</span><span class="p">,</span>
  <span class="s2">"target_end"</span> <span class="o">=&gt;</span> <span class="s2">"Sat, 02 Jan 2016 23:59:59 -0600"</span><span class="p">,</span>
  <span class="s2">"location_id"</span> <span class="o">=&gt;</span> <span class="mi">4267</span><span class="p">,</span>
  <span class="s2">"mode"</span> <span class="o">=&gt;</span> <span class="s2">"previous_week"</span><span class="p">,</span>
  <span class="s2">"conflicts"</span><span class="o">:</span><span class="s2">"avoid"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre id="code-collapse-88" class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"confirmation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3 shifts were copied."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"warning"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"shifts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27384</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"account_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
</span></span>      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">528479</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1045</span><span class="p">,</span><span class="w">
      </span><span class="nt">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">19483</span><span class="p">,</span><span class="w">
      </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4351</span><span class="p">,</span><span class="w">
</span></span>      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon, 28 Dec 2015 08:00:00 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon, 28 Dec 2015 16:00:00 -0600"</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"break_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc0000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We need more cowbell."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"published_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notified_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 21:12:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"acknowledged_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_open"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span></span>    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27385</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"account_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
</span></span>      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">845179</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1045</span><span class="p">,</span><span class="w">
      </span><span class="nt">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">19483</span><span class="p">,</span><span class="w">
      </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4351</span><span class="p">,</span><span class="w">
</span></span>      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tue, 29 Dec 2015 08:00:00 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tue, 29 Dec 2015 16:00:00 -0600"</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"break_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc0000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We need more cowbell."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"published_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notified_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 21:12:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"acknowledged_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_open"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span></span>    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27386</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"account_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
</span></span>      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">528479</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1045</span><span class="p">,</span><span class="w">
      </span><span class="nt">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">19483</span><span class="p">,</span><span class="w">
      </span><span class="nt">"site_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4351</span><span class="p">,</span><span class="w">
</span></span>      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wed, 30 Dec 2015 08:00:00 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wed, 30 Dec 2015 16:00:00 -0600"</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"break_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc0000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We need more cowbell."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"published_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notified_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 21:12:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 06 Mar 2014 22:17:14 -0600"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"acknowledged_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_open"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span></span>    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code><a class="expand-link" onclick="toggleCodeSection('#code-collapse-88')">Show hidden fields</a><a class="collapse-link" onclick="toggleCodeSection('#code-collapse-88')">Hide extra fields</a></pre>
<p>This method allows you to copy shifts from one timeframe into another. There are
two modes of operation, one that will copy the previous day&#39;s shifts, and another
that will copy the previous week&#39;s shifts.</p>

<p>There are 3 strategies to address shift conflicts that might arise from the
copy operation. The &quot;conflicts&quot; parameter accepts values of &quot;overwrite&quot;, &quot;allow&quot;,
and &quot;avoid&quot;. &quot;Overwrite&quot; will delete any previously existing shift that would have
created a conflict with the newly copied shift. &quot;Allow&quot; will keep any conflicting
shifts that result from the copy. &quot;Avoid&quot; will create newly copied shifts as
OpenShifts that otherwise would have created a conflict with previously existing shifts.</p>

<p>The newly created shifts resulting from the copy are included in the response.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code>POST https://api.wheniwork.com/2/shifts/copy/</code></p>

<h3 id="parameters">Parameters</h3>
<table><thead><tr><th>Key</th>
<th>Description</th>
</tr></thead><tbody><tr><td>target_start</td>
<td><strong>datetime</strong><br />Start time for time range into which shifts will be copied. Required.</td>
</tr><tr><td>target_end</td>
<td><strong>datetime</strong><br />End time for time range into which shifts will be copied. Required.</td>
</tr><tr><td>mode</td>
<td><strong>string</strong><br />&quot;previous_week&quot; or &quot;previous_day&quot; Indicates whether the source timerange is the week or day previous to the destination range. Required</td>
</tr><tr><td>location_id</td>
<td><strong>integer, integer array</strong><br />The ID(s) of the Location(s) for which shifts will be copied. Required.</td>
</tr><tr><td>user_id</td>
<td><strong>integer, integer array</strong><br />The ID(s) of the User(s) for which shifts will be copied. Optional.</td>
</tr><tr><td>site_id</td>
<td><strong>integer, integer array</strong><br />The ID(s) of the Site(s) for which shifts will be copied. Optional, defaults to all sites.</td>
</tr><tr><td>position_id</td>
<td><strong>integer, integer array</strong><br />The ID(s) of the Position(s) for which shifts will be copied. Optional, defaults to all positions.</td>
</tr><tr><td>conflicts</td>
<td><strong>string</strong><br />The strategy for addressing shift conflicts resulting from the copy. Accepts: &quot;overwrite&quot;, &quot;allow&quot;, or &quot;avoid&quot;. Documented above.</td>
</tr></tbody></table>
<h2 id="delete-shift">Delete Shift</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X DELETE https://api.wheniwork.com/2/shifts/1337 <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="s2">"shifts/1337"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes an existing shift.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code>DELETE https://api.wheniwork.com/2/shifts/{id}</code></p>

<h3 id="parameters">Parameters</h3>
<table><thead><tr><th>Key</th>
<th>Description</th>
</tr></thead><tbody><tr><td>id</td>
<td><strong>integer</strong><br />ID of the shift to delete.</td>
</tr><tr><td>ids</td>
<td><strong>integer array</strong><br />Array of IDs of the shifts to delete.</td>
</tr></tbody></table>
<aside class="notice"><p>If the <code>id</code> parameter is present, it will take precedence over <code>ids</code>.</p>
</aside>

<h2 id="get-labor">Get Labor</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl https://api.wheniwork.com/2/shifts/labor?start<span class="o">=</span>2016-07-04&amp;end<span class="o">=</span>2016-07-08 <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">"shifts/labor"</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"start"</span> <span class="o">=&gt;</span> <span class="s2">"2016-07-04"</span><span class="p">,</span>
  <span class="s2">"end"</span> <span class="o">=&gt;</span> <span class="s2">"2016-07-08"</span><span class="p">,</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre id="code-collapse-89" class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"2016-07-04"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"labor"</span><span class="p">:</span><span class="w"> </span><span class="mi">190</span><span class="p">,</span><span class="w">
      </span><span class="nt">"coverage"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"2016-07-05"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"labor"</span><span class="p">:</span><span class="w"> </span><span class="mi">190</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"coverage"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">]</span><span class="w">
</span></span>    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"2016-07-06"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"labor"</span><span class="p">:</span><span class="w"> </span><span class="mi">190</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"coverage"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">]</span><span class="w">
</span></span>    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"2016-07-07"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"labor"</span><span class="p">:</span><span class="w"> </span><span class="mi">190</span><span class="p">,</span><span class="w">
</span><span class="hide-section"><span class="w">      </span><span class="nt">"coverage"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">]</span><span class="w">
</span></span>    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code><a class="expand-link" onclick="toggleCodeSection('#code-collapse-89')">Show hidden fields</a><a class="collapse-link" onclick="toggleCodeSection('#code-collapse-89')">Hide extra fields</a></pre>
<p>Gets labor information from the schedule, such as total hours worked per day, labor cost, and coverage.</p>

<aside class="notice"><p>This endpoint can only retrieve statistics for at most one week at a time. Attempting to use a span of time longer than one week will result in an error.</p>
</aside>

<h3 id="parameters">Parameters</h3>
<table><thead><tr><th>Key</th>
<th>Description</th>
</tr></thead><tbody><tr><td>start</td>
<td><strong>datetime</strong><br />The start time of the range to calculate labor stats for.</td>
</tr><tr><td>end</td>
<td><strong>datetime</strong><br />The end time of the range to calculate labor stats for.</td>
</tr></tbody></table>
<h3 id="response-data">Response Data</h3>
<table><thead><tr><th>Key</th>
<th>Description</th>
</tr></thead><tbody><tr><td>count</td>
<td><strong>integer</strong><br />The total number of shifts contributing to the result.</td>
</tr><tr><td>data</td>
<td><strong>object</strong><br />A JSON object containing labor data objects, indexed by date. Dates are formatted as YYYY-MM-DD (<a href="https://xkcd.com/1179/">ISO 8601</a>).</td>
</tr></tbody></table>
<h3 id="labor-data-object">Labor data Object</h3>
<table><thead><tr><th>Parameter</th>
<th>Description</th>
</tr></thead><tbody><tr><td>hours</td>
<td><strong>number</strong><br />The total number of hours scheduled for this day.</td>
</tr><tr><td>labor</td>
<td><strong>number</strong><br />The total labor cost for this day.</td>
</tr><tr><td>coverage</td>
<td><strong>number array</strong><br />An array of 24 elements, each corresponding to an hour of the day. Each element contains the total number of hours of labor scheduled for that hour of the day.</td>
</tr></tbody></table>
<aside class="notice"><p>Note that the sum of all the values in <code>coverage</code> may not add up to the value of <code>hours</code>. This is because <code>hours</code> takes unpaid breaks into account, which do not affect overall shift coverage.</p>
</aside>

<h2 id="counting-shifts">Counting Shifts</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl https://api.wheniwork.com/2/shifts/count?location_id<span class="o">=</span>1&amp;start<span class="o">=</span>2014-03-05 00:00:00&amp;end<span class="o">=</span>2014-03-08 23:59:59 <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">"shifts/count"</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
                                <span class="s2">"location_id"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                                <span class="s2">"start"</span> <span class="o">=&gt;</span> <span class="s2">"2014-03-05 00:00:00"</span><span class="p">,</span>
                                <span class="s2">"end"</span> <span class="o">=&gt;</span> <span class="s2">"2014-03-08 23:59:59"</span>
                              <span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"shifts"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="nt">"locations"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
  </span><span class="nt">"positions"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sites"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This method allows you to count shifts as well as their associated locations, users, positions, and sites. The accepted parameters are identical to the <a href="/#listing-shifts">list shifts</a> endpoint. See the parameters below for all the options.</p>

<aside class="notice"><p><strong>The maximum range between <code>start</code> and <code>end</code> is 90 days.</strong> Any range greater than this will be set to the start time plus 90 days.</p>
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code>GET https://api.wheniwork.com/2/shifts/count</code></p>

<h3 id="parameters">Parameters</h3>
<table><thead><tr><th>Key</th>
<th>Description</th>
</tr></thead><tbody><tr><td>start</td>
<td><strong>datetime</strong><br />Start time for the search window. The default is the current date and time.</td>
</tr><tr><td>end</td>
<td><strong>datetime</strong><br />End time for the search window. The default is exactly three days from the start time.</td>
</tr><tr><td>user_id</td>
<td><strong>integer, string array</strong><br />The ID of the user to get shifts for. For multiple users, enter a list of user IDs separated by commas (e.g. <code>1,5,3</code>).</td>
</tr><tr><td>location_id</td>
<td><strong>integer, string array</strong><br />The ID of the location to get shifts for. For multiple locations, enter a list of location IDs separated by commas.</td>
</tr><tr><td>include_open</td>
<td><strong>boolean</strong><br />Whether to include OpenShifts in the results.</td>
</tr><tr><td>include_allopen</td>
<td><strong>boolean</strong><br />Whether to include OpenShifts in the results, including shifts that might be conflicts.</td>
</tr><tr><td>include_onlyopen</td>
<td><strong>boolean</strong><br />Whether only OpenShifts should be included in the results.</td>
</tr><tr><td>unpublished</td>
<td><strong>boolean</strong><br />Whether unpublished shifts should be included in the results.</td>
</tr></tbody></table>
<aside class="notice"><p>OpenShifts will be included in the results as long as either <code>include_allopen</code> or <code>include_onlyopen</code> is <code>true</code>.</p>
</aside>

      </div>
      <div class="dark-box">
        <div id="lang-selector">
        </div>
      </div>
    </div>
  </body>
</html>